/*!
== nSelect jQuery custom select plugin == 
Version: 1.0.1
Plugin URI: http://nselect.edbond.name/
Author: Ed Bond
Author URI: http://edbond.name/
License: MIT License (MIT)
*/
!function(e){e.nSelect=function(t,s){var l,a,n=!1,i=e.extend({topList:!1,firstTitle:"",theme:"nsOrange",disabled:!1,scrollbarTheme:"dark",hideAfterSelect:!1,afterChange:function(){},afterOpen:function(){}},s);function c(t,s){void 0!==s?(s.removeClass("_active"),e(window).trigger("niceClose")):e(".nselect").removeClass("_active")}return l=function(t){var s,l,a,n={top:"",disabled:""},c="",d={},r=!1,o=t.data("title")||"",_=t.attr("name")||"";return t.hide(),i.topList&&(n.top="_top"),(t.hasClass("_disabled")||i.disabled)&&(n.disabled="_disabled"),c=t.wrap('<div class="nselect ns-sys '+n.top+" "+i.theme+" "+n.disabled+'" data-name="'+_+'" data-val=""></div>').closest(".nselect.ns-sys").prepend('<div class="nselect__inner"><ul class="nselect__list"></ul></div>'),d={selectList:e(".nselect__list",c),selectItem:{}},t.find("option").each((function(t){var l,a=e(this),n=a.val(),c=a.html(),r="",o="";a.attr("selected")?(s=a,r="_active",1==i.hideAfterSelect&&(o="_hide")):(r="",o=""),l='<li class="'+r+" "+o+'" data-val="'+n+'"><span>'+c+"</span></li>",d.selectList.append(l)})),d.selectItem=e(".nselect__inner li",c),void 0===s&&(r=!0,s=t.find("option"),d.selectItem.eq(0).addClass("_active"),1==i.hideAfterSelect&&d.selectItem.eq(0).addClass("_hide")),l=s.html(),a=s.val(),""!==i.firstTitle&&r&&(d.selectItem.removeClass("_active"),t.val(""),l=i.firstTitle,a=""),""!==o&&r&&(d.selectItem.removeClass("_active"),t.val(""),l=o,a=""),c.prepend('<h6 class="nselect__head" data-val="'+a+'"><span>'+l+"</span></h6>"),e(".nselect__head",c).attr("title",e(".nselect__head SPAN",c).html()),c}(t),(a={selectBtn:e(".nselect__head",l),selectHeadInner:e(".nselect__head SPAN",l),selectList:e(".nselect__list",l),selectItem:e(".nselect__inner li",l)}).selectBtn.on("click",(function(){var t=e(this);l.hasClass("_active")?c(0,l):function(t,s){s.addClass("_active"),i.afterOpen(t),e(window).trigger("nOpen")}(t,l),!n&&jQuery.mCustomScrollbar&&function(e){e.mCustomScrollbar("destroy"),e.mCustomScrollbar({theme:i.scrollbarTheme}),n=!0}(a.selectList)})),a.selectItem.on("click",(function(){var s=e(this);(function(s,l){var a=e(l),n=a.find("span").html(),c=a.data("val");a.addClass("_active").siblings("li").removeClass("_active"),1==i.hideAfterSelect&&a.addClass("_hide").siblings("li").removeClass("_hide"),s.addClass("_checked"),e(".nselect__head",s).attr("title",n),e(".nselect__head SPAN",s).html(n),function(e,s){t.val(e),s.data("val",e)}(c,s),e(window).trigger("nChange")})(l,s),i.afterChange(s),c()})),this},e(document).on("click",(function(t){e(t.target).closest(".nselect").length||0==e(".nselect._active").length||e(".nselect").removeClass("_active")})),e.fn.nSelect=function(t){return this.each((function(){new e.nSelect(e(this),t)}))}}(jQuery);